<!doctype html>
<html lang="en">

<head>
	<!-- Google font -->
	<link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet'>
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-C7DCY6FN81"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());
		gtag('config', 'G-C7DCY6FN81', { 'anonymize_ip': true });
	</script>

	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_bootstrap5.min.css" rel="stylesheet"
		crossorigin="anonymous">
	<script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

	<style>
		body {
			font-family: 'Raleway';
		}

		.tabulator {
			font-size: 15px;
		}

		.tabulator-header {
			border-top: 1px transparent !important;
			font-size: 10px;
		}

		.tabulator-cell {
			border-right: 1px solid #FFFFFF !important;
		}

		.tabulator-row {
			border-bottom: 1px solid #FFFFFF !important;
		}

		.tabulator-row-odd {
			background-color: #CCCCCC !important;
		}

		.tabulator-row-even {
			background-color: #CCCCCC !important;
		}
	</style>
	<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
	<title>mystery-o-matic</title>
</head>

<!-- Modals -->
<div class="modal fade" id="portraitModal" tabindex="-1" aria-labelledby="portraitLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="portraitLabel">üì∏ Suspect portrait</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<img id="portraitImage" src="images/alice.jpg" class="w-100" alt="...">
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">I have seen enough</button>
			</div>
		</div>
	</div>
</div>

<body>
	<div class="container p-5 text-center">
		<h1>mystery-‚öôÔ∏è-matic</h1>
		<p>A mystery a day keeps the coroner away!</p>
	</div>

	<div id="about" style="display:none">
		<div class="container mt-5">
			<p>mystery-o-matic is a website that offers a free murder mysteries for daily solving.
				It was created by two enthusiastic individuals who share a profound passion for mysteries and a strong
				commitment to providing a distinctive experience for fellow detectives.</p>

			<p> Unlike typical games, the daily mysteries on this website require deductive thinking, but they are
				designed to mirror the unpredictability of real-life scenarios, making them more challenging and
				varied in difficulty. Instead of following a predefined deduction path,
				each daily mystery is synthesized through random exploration,
				offering a refreshing twist compared to traditional deductive logic games.
			</p>

			<p>The creators drew inspiration from popular games
				like <a href="https://en.wikipedia.org/wiki/Cluedo">Cluedo</a> (naturally), <a href="http://www.squidi.net/three/entry.php?id=69">Squidi's "Infinite Detective"</a> and
				<a href="https://murdle.com/">Murdle</a> to shape the captivating world of mystery-o-matic.</p>

			<p>The website is still in beta, therefore, rules, interface and design is subject to change!
				Please feel free to provide feedback <a href="https://forms.gle/dvA4Wr8LiuHFmDZN7">here</a> or in <a href="https://www.reddit.com/r/mystery_o_matic/">our subreddit</a>.
			</p>
		</div>
	</div>

	<div id="how-to-play" style="display:none">
		<div class="container mt-5">
			<p>mystery-o-matic presents a daily mystery that happened in a particular location, with each suspect performing actions on their own.
				The clues offered require both spacial and temporal deductions in order to solve the case.</p>

			<h3>üéì Understanding clues and making deductions</h3>
			<p> Let's say we have the following clue:</p>
			<p><q cite=""><b>Alice said: 'I saw Bob when I arrived to the kitchen at 10:15'</b></q></p>
			<p> There is a surprising amount of information packed in this clue if we consider both spacial and temporal constraints.
				From this clue, we can deduce:
				<lu class="list-group">
					<li class="list-group-item" onClick="toggleClueStrikeout(this)">üîé Alice was in the kitchen at 10:15</li>
					<li class="list-group-item" onClick="toggleClueStrikeout(this)">üîé Bob was in the kitchen at 10:15</li>
					<li class="list-group-item" onClick="toggleClueStrikeout(this)">üîé Bob was alive at 10:15 (if he were the victim)</li>
					<li class="list-group-item" onClick="toggleClueStrikeout(this)">üîé Alice was NOT in the kitchen at 10:00</li>
				</lu>
			</p>

			<p>Where was Alice at 10:00 then? The location graph offers some clues:</p>
			<img src="images/locations_tutorial.svg" style="max-width: 100%; height: 100%;" alt="...">
			<p>Since the kitchen is connected by both the living room and the bedroom, we cannot deduce where exactly Alice was.
				However, we can still make a deduction:
				<lu class="list-group">
					<li class="list-group-item" onClick="toggleClueStrikeout(this)">üîé Alice was NOT in the bathroom at 10:00</li>
				</lu>
			</p>

			<p>Using this information, we can complete the clue tables adding either ‚úì or ‚úó. Clicking each deduction will strikethrough the text to help you focus on other clues:</p>
			<div class="container d-flex align-items-center justify-content-center" style="user-select: none">
				<div class="container">
					<div class="row align-items-center justify-content-md-center">

						<div class="col-sm-1">Kitchen</div>
						<div class="col-md-auto">
							<div id="clues-table-kitchen-tutorial" class="table-sm"></div>
						</div>
					</div>
					<div class="row align-items-center justify-content-md-center">
						<div class="col-sm-1">Bathroom</div>
						<div class="col-md-auto">
							<div id="clues-table-bathroom-tutorial" class="table-sm"></div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="home">
		<div class="container mt-5">
			Welcome to your daily destination for an exhilarating dose of mystery! Immerse yourself
			in a world of crime, suspense, and intrigue as we present you with a new murder mystery
			every day. What sets us apart is our cutting-edge technology that generates these
			captivating cases randomly, ensuring a unique and mind-boggling experience every 24 hours.
		</div>

		<div class="container mt-5">
			<h3>ü§ñ <span class="font-monospace">beep boop</span>, a new mystery is up</h3>
			<p><span id='span-today'></span></p>

			Time to step into the shoes of the lead investigator tasked with solving perplexing crimes.
			Your objective is <strong>to deduce who commited the murder, when it was commited and which weapon was
				used</strong>.
			Start reviewing this list of initial clues:
			<p></p>
			<div class="row align-items-center">
				<div class="col">
					$initialClues
				</div>
				<div class="col-sm d-flex justify-content-center">
					<img src="images/locations.svg" style="max-width: 100%; height: 100%;" alt="...">
				</div>
			</div>

			<div class="container mt-5">
				<h4>ü•æ The game is afoot!</h4>

				<p>To unravel this intricate puzzle, you'll be presented with a series of clues that gradually
					unveil the truth behind the murder. Keep in mind that <strong>the suspects won't dare lie</strong>
					to avoid being charged with obstruction of justice,
					but <strong>they will be cautious about divulging anything excessively incriminating</strong>.</p>

				<p>However, it's important to note that <strong>every clue you view will have an impact on your overall
						score</strong>.
					Exercise caution and strategic thinking as you navigate through the evidence and interrogate
					the suspects to piece together the ultimate solution.</p>

				<p>Are you up for the challenge? Let the investigation begin!</p>
				$clues
				<p></p>
				<div class="row align-items-center justify-content-start">
					<button id="more-clues-button" type="button" class="btn btn-outline-secondary"
						onclick="revealAnotherClue()">Reveal another clue ...</button>
				</div>
			</div>
			<p></p>
			<div class="container d-flex align-items-center justify-content-center" style="user-select: none">
				<div class="container">
					<h4>üìî Investigator's notebook</h4>
					<p>Use this table to keep track of your facts, clues and deductions</p>
					<div class="row align-items-center justify-content-md-center">
						<div class="col-sm-1">Bedroom</div>
						<div class="col-md-auto">
							<div id="clues-table-bedroom" class="table-sm"></div>
						</div>

					</div>
					<div class="row align-items-center justify-content-md-center">

						<div class="col-sm-1">Kitchen</div>
						<div class="col-md-auto">
							<div id="clues-table-kitchen" class="table-sm"></div>
						</div>
					</div>

					<div class="row align-items-center justify-content-md-center">

						<div class="col-sm-1">Living</div>
						<div class="col-md-auto">
							<div id="clues-table-living" class="table-sm"></div>
						</div>
					</div>

					<div class="row align-items-center justify-content-md-center">

						<div class="col-sm-1">Bathroom</div>
						<div class="col-md-auto">
							<div id="clues-table-bathroom" class="table-sm"></div>
						</div>
					</div>
				</div>
			</div>

			<div class="container d-flex align-items-center justify-content-center">
				<div class="container mt-5">
					<div class="row align-items-center justify-content-start">
						<h4>üëâ Time for accusations</h4>

						<p>After working overnight collecting evidence, analyzing clues and inferring every possible bit of information, it is time to
							crack this case selecting suspect, time of murder and weapon.
						</p>

						<select class="form-select" id="who-selector">
							<option value="" disabled selected>Who?</option>
							$selectSuspects
						</select>
					</div>

					<div class="row align-items-center justify-content-start">
						<select class="form-select" id="when-selector">
							<option value="" disabled selected>When?</option>
							$selectIntervals
						</select>
					</div>

					<div class="row align-items-center justify-content-start">
						<select class="form-select" id="how-selector">
							<option value="" disabled selected>How?</option>
							$selectWeapon
						</select>
					</div>

					<div class="row align-items-center justify-content-start">
						<button id="accusation-button" type="button" class="btn btn-danger"
							onclick="checkAccusation('$correctAnswer')">Accuse!</button>
					</div>
				</div>
			</div>
		</div>

		<div id="accusation-win" class="container mt-5" style="display:none">
			<h4>ü§ñ Answer is.. <span class="font-monospace">beep boop, correct!</span></h4>
			<p>The weight of evidence against the accused was immense, leaving no room for doubt.
			In a stunning turn of events, as soon as the police arrived, the accused succumbed to
			the pressure and confessed their guilt.</p>
			<p id="accusation-win-message">Congratulations on cracking the case!, you solved today's mystery with</p>
			<p><b>Come back tomorrow for another challenge.</b></p>
		</div>

		<div id="accusation-lose" class="container mt-5" style="display:none">
			<h4>ü§ñ Answer is.. <span class="font-monospace">beep boop, wrong!</span></h4>

			<p>After apprehending the suspect, the authorities found themselves facing a perplexing puzzle of
			conflicting evidence. Although they had managed to detain a person of interest, the available proof fell short of providing a definitive conviction. It became evident that
			either the <b>suspect's identity, the timing of the crime, or even the weapon involved might be erroneous</b>,
			creating a cloud of uncertainty around the investigation.</p>

			<p>Your chief asks you to <b>review your accusation and try again</b> while she .. <i>cleans up your mess</i>. Otherwise, <b>you can come back tomorrow for another challenge</b>.</p>
		</div>
	</div>

	<footer class="py-3 my-4">
		<ul class="nav justify-content-center border-bottom pb-3 mb-3">
			<li class="nav-item"><a href="#" onClick="showPage('home')" class="nav-link px-2 text-muted">Home</a></li>
			<li class="nav-item"><a href="#" onClick="showPage('how-to-play')" class="nav-link px-2 text-muted">How to play</a></li>
			<li class="nav-item"><a href="#" onClick="showPage('about')" class="nav-link px-2 text-muted">About</a>
			</li>
		</ul>
		<p class="text-center text-muted">¬© 2023 Gabbo Industries üè≠ Inc.</p>
	</footer>

	<!-- Define global parameters -->
	<script>
		var nColumns = $numIntervals;
		var timeOffset = 9 * 3600;
		var suspectNames = $suspectNames;
	</script>

	<!-- Run custom functions -->
	<script src="functions.js"></script>

	<!-- Bootstrap Bundle with Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
</body>

</html>